<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Teacher's Countdown Calendar</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <h1>Teacher's Countdown Calendar</h1>
    <div id="countdown"></div>
    <div class="calendar" id="calendar"></div>

    <script>
      const startDate = new Date();
      const endDate = new Date("2024-08-26");
      const holidays = [
        "2023-12-25",
        "2023-12-26", // Christmas
        "2024-01-01", // New Year's Day
        "2024-01-15", // Martin Luther King Jr. Day
        "2024-02-19", // Presidents' Day
        "2024-05-27", // Memorial Day
        "2024-07-04", // Independence Day
      ];

      function createCalendar() {
        const calendar = document.getElementById("calendar");
        let currentDate = new Date(startDate);

        while (currentDate <= endDate) {
          const monthDiv = document.createElement("div");
          monthDiv.className = "month";

          const monthName = document.createElement("div");
          monthName.className = "month-name";
          monthName.textContent = currentDate.toLocaleString("default", {
            month: "long",
            year: "numeric",
          });
          monthDiv.appendChild(monthName);

          const daysDiv = document.createElement("div");
          daysDiv.className = "days";

          // Add empty cells for days before the 1st of the month
          const firstDay = new Date(
            currentDate.getFullYear(),
            currentDate.getMonth(),
            1
          );
          for (let i = 0; i < firstDay.getDay(); i++) {
            const emptyDay = document.createElement("div");
            emptyDay.className = "day";
            daysDiv.appendChild(emptyDay);
          }

          while (
            currentDate.getMonth() ===
            monthDiv.firstChild.textContent.split(" ")[0]
          ) {
            const dayDiv = document.createElement("div");
            dayDiv.className = "day";
            dayDiv.textContent = currentDate.getDate();

            if (currentDate.getDay() === 0 || currentDate.getDay() === 6) {
              dayDiv.classList.add("weekend");
            } else if (
              holidays.includes(currentDate.toISOString().split("T")[0])
            ) {
              dayDiv.classList.add("holiday");
            } else {
              dayDiv.classList.add("school-day");
            }

            daysDiv.appendChild(dayDiv);
            currentDate.setDate(currentDate.getDate() + 1);
          }

          monthDiv.appendChild(daysDiv);
          calendar.appendChild(monthDiv);
        }
      }

      function updateCountdown() {
        const now = new Date();
        let schoolDays = 0;
        let currentDate = new Date(now);

        while (currentDate <= endDate) {
          if (
            currentDate.getDay() !== 0 &&
            currentDate.getDay() !== 6 &&
            !holidays.includes(currentDate.toISOString().split("T")[0])
          ) {
            schoolDays++;
          }
          currentDate.setDate(currentDate.getDate() + 1);
        }

        document.getElementById(
          "countdown"
        ).textContent = `School days left: ${schoolDays}`;
      }

      createCalendar();
      updateCountdown();
    </script>
  </body>
</html>
